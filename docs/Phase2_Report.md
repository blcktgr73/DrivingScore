# Phase 2 모델 개발 보고서 (2025-09-27)

## 1. 목표
- Phase 1에서 권고된 세 가지 이벤트(급가속, 급정거, 급회전)에 더해 과속(overspeeding)을 포함/제외한 두 시나리오를 비교한다.
- 데이터 기반 감점 가중치, 환경 계수, 등급 임계값을 산출하고 시나리오별 차이를 정량화한다.
- 로지스틱 회귀, XGBoost, LightGBM 모델을 활용해 Phase 2 목표와 성능 차이를 검증한다.

## 2. 합성 데이터셋 개요
| 지표 | 값 |
| --- | --- |
| 표본 수 | 35,000 |
| 사고 비율 | 76.5% |
| 평균 야간 주행 비중 | 0.286 |
| 급가속 평균 발생 수 | 4.445 |
| 급정거 평균 발생 수 | 4.353 |
| 급회전 평균 발생 수 | 2.761 |
| 과속 평균 발생 수 | 4.917 |

## 3. 이벤트 감점 가중치 비교
| 이벤트 | 시나리오 A 주간 | 시나리오 A 야간 | 시나리오 B 주간 | 시나리오 B 야간 |
| --- | --- | --- | --- | --- |
| 급가속 | -2.94 | -4.50 | -2.58 | -3.67 |
| 급정거 | -3.49 | -5.77 | -3.07 | -4.70 |
| 급회전 | -2.07 | -2.91 | -1.86 | -2.43 |
| 과속 | -1.50 | -1.23 | 제외 | 제외 |

- 시나리오 A: 과속 포함 (4개 이벤트)
- 시나리오 B: 과속 제외 (3개 이벤트)

## 4. 환경 계수 (공통)
- **날씨**: 맑음 1.00 / 비 1.11 / 폭우 1.16
- **야간 비중 구간**: Low 1.00 / Medium 1.05 / High 1.11
- **도로 유형**: 고속도로 1.00 / 교외 0.99 / 도심 1.00
- **교통 혼잡도**: 기준값 0.55, 기울기 0.31 (0.90~1.45 범위로 클리핑)
- **복합 계수 상한**: 1.65

## 5. 안전 점수 임계값 및 분포
| 항목 | 시나리오 A | 시나리오 B | 차이 (B-A) |
| --- | --- | --- | --- |
| Aggressive 임계값 | ≤ 62.0 | ≤ 72.0 | +10.0 |
| Safe 임계값 | ≥ 70.0 | ≥ 77.0 | +7.0 |
| SAFE 비중 | 22.98% | 26.15% | +3.17%p |
| MODERATE 비중 | 12.76% | 10.78% | -1.98%p |
| AGGRESSIVE 비중 | 64.25% | 63.07% | -1.18%p |
| AGGRESSIVE 사고율 | 91.8% | 91.9% | +0.03%p |
| SAFE 사고율 | 38.1% | 41.6% | +3.07%p |

## 6. 모델 벤치마크 비교 (테스트 세트)
| 모델 | 시나리오 A AUC | 시나리오 B AUC | ΔAUC (B-A) | 시나리오 A F1 | 시나리오 B F1 | ΔF1 (B-A) |
| --- | --- | --- | --- | --- | --- | --- |
| Logistic Regression | 0.8445 | 0.8416 | -0.0029 | 0.8064 | 0.8016 | -0.0048 |
| XGBoost | 0.8418 | 0.8373 | -0.0045 | 0.8926 | 0.8913 | -0.0013 |
| LightGBM | 0.8399 | 0.8364 | -0.0035 | 0.8900 | 0.8890 | -0.0010 |

- 과속을 제외하면 전반적인 예측 지표(AUC, F1)가 소폭 하락하며, 재현율은 큰 변화가 없다.
- 과속 이벤트를 포함할 때 Aggressive 구간을 더 강하게 필터링(임계값 62점)할 수 있다.

## 7. 요약 인사이트
1. **예측 성능**: 과속 포함 시나리오가 모든 모델에서 AUC 기준 0.003~0.005p 우세하며, F1도 근소하게 높다.
2. **등급 분포**: 과속 제외 시나리오는 SAFE 비중이 3.17%p 증가하지만 SAFE 등급의 사고율이 3.07%p 악화된다.
3. **감점 정책**: 과속을 포함하면 급가속·급정거에 더 높은 감점을 부여하면서 과속에는 낮은 가중치(-1.50/-1.23)를 유지해 Phase 1 결론(과속의 낮은 설명력)을 반영한다.

## 8. Phase 3을 위한 권고 사항
1. Kaggle 실제 데이터셋으로 두 시나리오를 검증해 측정된 성능 차이가 유지되는지 확인한다.
2. SAFE 등급 사고율을 줄이기 위한 보정(확률 보정, 캘리브레이션)을 실험한다.
3. 기상/지역 API와 결합해 환경 계수를 실측 데이터 기반으로 재보정한다.
4. 점수 이관, 실시간 모니터링, 모델 재학습 주기를 포함한 교차 검증 및 배포 체크리스트를 마련한다.
