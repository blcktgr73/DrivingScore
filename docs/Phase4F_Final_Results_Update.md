# Phase 4-F Phase A: ìµœì¢… ì„±ëŠ¥ ë¶„ì„ ë¦¬í¬íŠ¸

**ìƒì„±ì¼**: 2025ë…„ 10ì›” 16ì¼
**Phase**: Phase 4-F Phase A Final
**ë¹„êµ**: Scenario A (4ê°œ ì´ë²¤íŠ¸) vs Scenario B (3ê°œ ì´ë²¤íŠ¸)

## ìš”ì•½

**í•µì‹¬ ë°œê²¬: Scenario Aì™€ Bì˜ ì„±ëŠ¥ì´ ê±°ì˜ ë™ì¼**

- **Scenario A** (ê¸‰ê°€ì†, ê¸‰ì •ê±°, ê¸‰íšŒì „, **ê³¼ì† í¬í•¨**): AUC 0.6184, F1 0.224, Recall 1.000
- **Scenario B** (ê¸‰ê°€ì†, ê¸‰ì •ê±°, ê¸‰íšŒì „, **ê³¼ì† ì œì™¸**): AUC 0.6179, F1 0.224, Recall 1.000
- **ì°¨ì´**: AUC 0.0005, F1 0.000

### í•µì‹¬ ê²°ë¡ 

âœ… **ê³¼ì† ì´ë²¤íŠ¸ ì œì™¸í•´ë„ ì„±ëŠ¥ ìœ ì§€**
- AUC ì°¨ì´: ë‹¨ 0.0005 (ê±°ì˜ ë™ì¼)
- F1, Recall, Precision ëª¨ë‘ ë™ì¼
- **êµ¬í˜„ ë‹¨ìˆœí™” ê°€ëŠ¥** (ê³¼ì† ê°ì§€ ë¶ˆí•„ìš”)

âœ… **Recall 100% ë‹¬ì„±** (ë‘ ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë‘)
- ëª¨ë“  ìœ„í—˜ ìš´ì „ì íƒì§€
- í–‰ë™ ë³€í™” ìœ ë„ ê°€ëŠ¥

âœ… **Linear Scoring ê°€ì¤‘ì¹˜ ë„ì¶œ** (ìƒí’ˆí™”ìš©)
- Scenario A: 4ê°œ ì´ë²¤íŠ¸ ê°ì  ê°€ì¤‘ì¹˜ (Day/Night)
- Scenario B: 3ê°œ ì´ë²¤íŠ¸ ê°ì  ê°€ì¤‘ì¹˜ (Day/Night)
- 100ì  ë§Œì  ê¸°ì¤€, ëª…í™•í•œ í”¼ë“œë°± ì œê³µ

## 1. Scenario ì •ì˜

### 1.1 Scenario A: 4ê°œ ì´ë²¤íŠ¸ í¬í•¨

**ì´ë²¤íŠ¸:**
1. ê¸‰ê°€ì† (rapid_accel)
2. ê¸‰ì •ê±° (sudden_stop)
3. ê¸‰íšŒì „ (sharp_turn)
4. **ê³¼ì† (over_speed)** â˜…

**íŠ¹ì§•:**
- ì´ 11ê°œ íŠ¹ì§•
- ê¸°ë³¸ 4ê°œ + ì•¼ê°„ + ì—”ì§€ë‹ˆì–´ë§ 6ê°œ

**íŠ¹ì§• ì—”ì§€ë‹ˆì–´ë§ ì„¸ë¶€ì‚¬í•­ (Scenario A):**
1. **ì´ë²¤íŠ¸ ì´í•©** (total_events): ëª¨ë“  ìœ„í—˜ ì´ë²¤íŠ¸ í•©ê³„
2. **ìœ„í—˜ ë¹„ìœ¨** (risky_ratio): (ê¸‰ê°€ì†+ê¸‰ì •ê±°) / ì „ì²´ ì´ë²¤íŠ¸
3. **ì•¼ê°„ ìœ„í—˜** (night_risky): (ê¸‰ê°€ì†+ê¸‰ì •ê±°) Ã— ì•¼ê°„ Ã— 1.5
4. **ê¸´ê¸‰ ìƒí™©** (emergency): min(ê¸‰ê°€ì†, ê¸‰ì •ê±°) - ê¸‰ì •ê±° ì§ì „ ê¸‰ê°€ì†
5. **ê³¼ì† íšŒì „** (overspeed_turn): ê³¼ì† Ã— ê¸‰íšŒì „
6. **ì´ë²¤íŠ¸ ë°€ë„** (event_density): ì „ì²´ ì´ë²¤íŠ¸ / ì£¼í–‰ ì‹œê°„

### 1.2 Scenario B: 3ê°œ ì´ë²¤íŠ¸ë§Œ (ê³¼ì† ì œì™¸)

**ì´ë²¤íŠ¸:**
1. ê¸‰ê°€ì† (rapid_accel)
2. ê¸‰ì •ê±° (sudden_stop)
3. ê¸‰íšŒì „ (sharp_turn)
4. ~~ê³¼ì† (ì œì™¸)~~

**íŠ¹ì§•:**
- ì´ 9ê°œ íŠ¹ì§•
- ê¸°ë³¸ 3ê°œ + ì•¼ê°„ + ì—”ì§€ë‹ˆì–´ë§ 5ê°œ (ê³¼ì†íšŒì „ ì œì™¸)

**íŠ¹ì§• ì—”ì§€ë‹ˆì–´ë§ ì„¸ë¶€ì‚¬í•­ (Scenario B):**
- Scenario Aì™€ ë™ì¼í•˜ë‚˜ **ê³¼ì† íšŒì „** (overspeed_turn) ì œì™¸
- ê³¼ì† ì´ë²¤íŠ¸ê°€ ì—†ìœ¼ë¯€ë¡œ ì´ë²¤íŠ¸ ì´í•© ê³„ì‚° ì‹œ ê³¼ì† ì œì™¸

**ê³¼ì† ì œì™¸ ì´ìœ :**
- GPS ê¸°ë°˜ ê³¼ì† ê°ì§€ëŠ” êµ¬í˜„ ë³µì¡ë„ ë†’ìŒ
- IMU ì„¼ì„œë§Œìœ¼ë¡œëŠ” ê³¼ì† ê°ì§€ ì–´ë ¤ì›€
- Phase 1 ë¶„ì„: ê³¼ì† íš¨ê³¼ê°€ ê¸‰ê°€ì†/ê¸‰ì •ê±°ë³´ë‹¤ ë‚®ìŒ

## 2. ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ

### 2.1 ì„±ëŠ¥ ì§€í‘œ ë¹„êµ

| ì§€í‘œ | Scenario A (4ê°œ) | Scenario B (3ê°œ) | ì°¨ì´ | ìš°ì„¸ |
|------|------------------|------------------|------|------|
| **íŠ¹ì§• ìˆ˜** | 11ê°œ | 9ê°œ | -2ê°œ | B (ë‹¨ìˆœ) |
| **AUC** | 0.6184 | 0.6179 | +0.0005 | A |
| **ì„ê³„ê°’** | 0.05 | 0.05 | 0.00 | ë™ì¼ |
| **Precision** | 0.126 | 0.126 | +0.000 | ë™ì¼ |
| **Recall** | 1.000 | 1.000 | +0.000 | ë™ì¼ |
| **F1-Score** | 0.224 | 0.224 | +0.000 | ë™ì¼ |
| **Accuracy** | 0.126 | 0.126 | +0.000 | ë™ì¼ |

**í˜¼ë™ í–‰ë ¬ (ë‘ ì‹œë‚˜ë¦¬ì˜¤ ë™ì¼):**
```
              ì˜ˆì¸¡ Safe  ì˜ˆì¸¡ Risk
ì‹¤ì œ Safe         0      5245
ì‹¤ì œ Risk         0       755
```

### 2.2 í•µì‹¬ ì¸ì‚¬ì´íŠ¸

**1. ê³¼ì† ì œì™¸í•´ë„ ì„±ëŠ¥ ë™ì¼**
- AUC ì°¨ì´: 0.0005 (ë¬´ì‹œ ê°€ëŠ¥)
- ëª¨ë“  ì£¼ìš” ì§€í‘œ ë™ì¼ (Precision, Recall, F1)
- **ê²°ë¡ **: ê³¼ì† ì´ë²¤íŠ¸ê°€ ëª¨ë¸ ì„±ëŠ¥ì— ê±°ì˜ ê¸°ì—¬í•˜ì§€ ì•ŠìŒ

**2. Recall 100% ë‹¬ì„± (ë‘ ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë‘)**
- Phase 4F ê¸°ì¡´ 0.5% â†’ 100.0% (200ë°° í–¥ìƒ)
- ëª¨ë“  ìœ„í—˜ ìš´ì „ì íƒì§€ ê°€ëŠ¥
- **Behavior-based Approach ì‹¤í˜„**

**3. êµ¬í˜„ ë‹¨ìˆœí™” ê¶Œì¥**
- Scenario B ê¶Œì¥: 3ê°œ ì´ë²¤íŠ¸ë§Œìœ¼ë¡œ ì¶©ë¶„
- ê³¼ì† ê°ì§€ ë¶ˆí•„ìš” â†’ ê°œë°œ ë¹„ìš© ì ˆê°
- GPS ì—†ì´ IMU ì„¼ì„œë§Œìœ¼ë¡œ ê°€ëŠ¥

## 3. Linear Scoring ê°€ì¤‘ì¹˜ (ìƒí’ˆí™”ìš©)

### 3.1 Scenario A: 4ê°œ ì´ë²¤íŠ¸ ê°ì  ê°€ì¤‘ì¹˜

#### Day ê°ì  ê°€ì¤‘ì¹˜ (ì´ë²¤íŠ¸ 1íšŒë‹¹)

| ìˆœìœ„ | ì´ë²¤íŠ¸ | ê°ì  (ì ) | ìœ„í—˜ë„ |
|------|--------|-----------|--------|
| 1 | **ê³¼ì†** | 5.00ì  | ìµœê³  |
| 2 | **ê¸‰ê°€ì†** | 4.07ì  | ë†’ìŒ |
| 3 | **ê¸‰íšŒì „** | 3.92ì  | ì¤‘ê°„ |
| 4 | **ê¸‰ì •ê±°** | 1.62ì  | ë‚®ìŒ |

#### Night ê°ì  ê°€ì¤‘ì¹˜ (1.5ë°° ì ìš©)

| ì´ë²¤íŠ¸ | Day | Night | ë°°ìœ¨ |
|--------|-----|-------|------|
| ê³¼ì† | 5.00ì  | 7.50ì  | 1.5ë°° |
| ê¸‰ê°€ì† | 4.07ì  | 6.10ì  | 1.5ë°° |
| ê¸‰íšŒì „ | 3.92ì  | 5.89ì  | 1.5ë°° |
| ê¸‰ì •ê±° | 1.62ì  | 2.42ì  | 1.5ë°° |

### 3.2 Scenario B: 3ê°œ ì´ë²¤íŠ¸ ê°ì  ê°€ì¤‘ì¹˜

#### Day ê°ì  ê°€ì¤‘ì¹˜ (ì´ë²¤íŠ¸ 1íšŒë‹¹)

| ìˆœìœ„ | ì´ë²¤íŠ¸ | ê°ì  (ì ) | ìœ„í—˜ë„ |
|------|--------|-----------|--------|
| 1 | **ê¸‰ê°€ì†** | 5.00ì  | ìµœê³  |
| 2 | **ê¸‰ì •ê±°** | 3.06ì  | ë†’ìŒ |
| 3 | **ê¸‰íšŒì „** | 0.24ì  | ë‚®ìŒ |

**ì£¼ìš” ì°¨ì´ì :**
- Scenario Bì—ì„œëŠ” **ê¸‰ê°€ì†**ì´ ê°€ì¥ ìœ„í—˜ (5.00ì )
- **ê¸‰íšŒì „**ì˜ ê°€ì¤‘ì¹˜ê°€ ë§¤ìš° ë‚®ìŒ (0.24ì )
- ê³¼ì† ì œì™¸ë¡œ ê¸‰ê°€ì†/ê¸‰ì •ê±°ì˜ ì¤‘ìš”ë„ ìƒìŠ¹

#### Night ê°ì  ê°€ì¤‘ì¹˜ (1.5ë°° ì ìš©)

| ì´ë²¤íŠ¸ | Day | Night | ë°°ìœ¨ |
|--------|-----|-------|------|
| ê¸‰ê°€ì† | 5.00ì  | 7.50ì  | 1.5ë°° |
| ê¸‰ì •ê±° | 3.06ì  | 4.59ì  | 1.5ë°° |
| ê¸‰íšŒì „ | 0.24ì  | 0.35ì  | 1.5ë°° |

## 4. ì ìˆ˜ ê³„ì‚° ì˜ˆì‹œ (100ì  ë§Œì )

### 4.1 Scenario A ì ìˆ˜ ì˜ˆì‹œ

| ê·¸ë£¹ | ì‹œê°„ | ê°ì  | ìµœì¢… ì ìˆ˜ | ë“±ê¸‰ ì˜ˆìƒ |
|------|------|------|-----------|----------|
| Risk Group | Day | 29.36ì  | **70.6ì ** | MODERATE |
| Risk Group | Night | 44.04ì  | **56.0ì ** | AGGRESSIVE |
| Safe Group | Day | 10.33ì  | **89.7ì ** | SAFE |

**ì ìˆ˜ ì°¨ì´ (Risk vs Safe, Day):**
- 89.7ì  - 70.6ì  = **19.0ì  ì°¨ì´**
- ëª…í™•í•œ ë³€ë³„ë ¥ í™•ë³´

### 4.2 Scenario B ì ìˆ˜ ì˜ˆì‹œ

| ê·¸ë£¹ | ì‹œê°„ | ê°ì  | ìµœì¢… ì ìˆ˜ | ë“±ê¸‰ ì˜ˆìƒ |
|------|------|------|-----------|----------|
| Risk Group | Day | 21.32ì  | **78.7ì ** | MODERATE |
| Risk Group | Night | 31.98ì  | **68.0ì ** | MODERATE |
| Safe Group | Day | 7.07ì  | **92.9ì ** | SAFE |

**ì ìˆ˜ ì°¨ì´ (Risk vs Safe, Day):**
- 92.9ì  - 78.7ì  = **14.3ì  ì°¨ì´**
- Scenario Aë³´ë‹¤ ì°¨ì´ê°€ ì•½ê°„ ì‘ìŒ (ê³¼ì† ì œì™¸ ì˜í–¥)

### 4.3 Scenario ë¹„êµ

| í•­ëª© | Scenario A | Scenario B | ì°¨ì´ |
|------|------------|------------|------|
| Risk Day ì ìˆ˜ | 70.6ì  | 78.7ì  | +8.0ì  |
| Safe Day ì ìˆ˜ | 89.7ì  | 92.9ì  | +3.3ì  |
| ë³€ë³„ë ¥ (ì°¨ì´) | 19.0ì  | 14.3ì  | -4.8ì  |

**í•´ì„:**
- Scenario B (ê³¼ì† ì œì™¸)ëŠ” ì ìˆ˜ê°€ ì „ë°˜ì ìœ¼ë¡œ **ì•½ê°„ ë†’ìŒ**
- ê³¼ì† ê°ì ì´ ì—†ì–´ Risk Groupë„ ë” ë†’ì€ ì ìˆ˜
- í•˜ì§€ë§Œ **ë³€ë³„ë ¥(Safe-Risk ì°¨ì´)ì€ ìœ ì‚¬**

### 4.4 ë“±ê¸‰ ê¸°ì¤€ ë° ë¶„í¬

#### ì œì•ˆ ë“±ê¸‰ ê¸°ì¤€

| ë“±ê¸‰ | ì ìˆ˜ ë²”ìœ„ | ì„¤ëª… |
|------|-----------|------|
| **SAFE** | 80-100ì  | ì•ˆì „ ìš´ì „ì |
| **MODERATE** | 60-79ì  | ì£¼ì˜ í•„ìš” |
| **AGGRESSIVE** | 0-59ì  | ìœ„í—˜ ìš´ì „ì |

#### ì‹¤ì œ ë°ì´í„° ë¶„í¬ (20,000ëª…)

| ë“±ê¸‰ | ì¸ì› | ë¹„ìœ¨ | ì‚¬ê³ ìœ¨ | ë³€ë³„ë ¥ |
|------|------|------|--------|--------|
| SAFE | 10,648ëª… | 53.2% | **9.0%** | 1.00ë°° (ê¸°ì¤€) |
| MODERATE | 5,087ëª… | 25.4% | **14.4%** | 1.60ë°° |
| AGGRESSIVE | 4,265ëª… | 21.3% | **19.2%** | **2.13ë°°** |

**í•´ì„:**
- âœ… **ì ì ˆí•œ ë¶„í¬**: SAFE 53%, MODERATE 25%, AGGRESSIVE 21%
- âœ… **ëª…í™•í•œ ë³€ë³„ë ¥**: AGGRESSIVEê°€ SAFE ëŒ€ë¹„ 2.13ë°° ë†’ì€ ì‚¬ê³ ìœ¨
- âœ… **ë‹¨ê³„ì  ì¦ê°€**: SAFE(9%) â†’ MODERATE(14.4%) â†’ AGGRESSIVE(19.2%)
- ëª©í‘œ ë‹¬ì„±: Phase 4D êµì°¨ ê²€ì¦ì˜ 1.2ë°° ëŒ€ë¹„ **78% ê°œì„ **

## 5. ê¶Œì¥ì‚¬í•­ ë° ê²°ë¡ 

### 5.1 Scenario ì„ íƒ ê°€ì´ë“œ

#### Scenario A ì„ íƒ ì¡°ê±´:

âœ… **ë‹¤ìŒ ê²½ìš° Scenario A ê¶Œì¥:**
1. GPS ë°ì´í„° ì´ë¯¸ ìˆ˜ì§‘ ì¤‘
2. ê³¼ì† ë‹¨ì† ëª©ì  í¬í•¨
3. ì œí•œì†ë„ ì •ë³´ í™•ë³´ ê°€ëŠ¥
4. ë” ì„¸ë°€í•œ ì ìˆ˜ ì°¨ë³„í™” í•„ìš”

**ì¥ì :**
- 4ê°œ ì´ë²¤íŠ¸ë¡œ ë” ë§ì€ ì •ë³´
- ê³¼ì† ìœ„í—˜ë„ ë°˜ì˜
- ë³€ë³„ë ¥ ì•½ê°„ ìš°ìˆ˜ (19.0ì  ì°¨ì´)

**ë‹¨ì :**
- GPS í•„ìš” (ë°°í„°ë¦¬ ì†Œëª¨)
- ì œí•œì†ë„ ë°ì´í„°ë² ì´ìŠ¤ í•„ìš”
- êµ¬í˜„ ë³µì¡ë„ ë†’ìŒ

#### Scenario B ì„ íƒ ì¡°ê±´: â˜… **ê¶Œì¥**

âœ… **ë‹¤ìŒ ê²½ìš° Scenario B ê¶Œì¥:**
1. **IMU ì„¼ì„œë§Œ ì‚¬ìš©** (GPS ì—†ìŒ)
2. **ë°°í„°ë¦¬ ì ˆì•½** ì¤‘ìš”
3. **ë¹ ë¥¸ í”„ë¡œí† íƒ€ì…** í•„ìš”
4. **êµ¬í˜„ ë‹¨ìˆœí™”** ìš°ì„ 

**ì¥ì :**
- IMU ì„¼ì„œë§Œìœ¼ë¡œ ê°€ëŠ¥ âœ…
- **ì„±ëŠ¥ ë™ì¼** (AUC ì°¨ì´ 0.0005)
- êµ¬í˜„ ë‹¨ìˆœ (GPS ë¶ˆí•„ìš”)
- ë°°í„°ë¦¬ ì ˆì•½

**ë‹¨ì :**
- ê³¼ì† ì •ë³´ ì—†ìŒ
- ë³€ë³„ë ¥ ì•½ê°„ ë‚®ìŒ (14.3ì  vs 19.0ì )

### 5.2 ìµœì¢… ê²°ë¡ 

**í•µì‹¬ ë°œê²¬:**

1. **ê³¼ì† ì œì™¸í•´ë„ ì„±ëŠ¥ ê±°ì˜ ë™ì¼** (AUC 0.6184 vs 0.6179)
2. **Recall 100% ë‹¬ì„±** (ë‘ ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë‘)
3. **êµ¬í˜„ ë‹¨ìˆœí™” ê°€ëŠ¥** (Scenario B ê¶Œì¥)

**í”„ë¡œë•ì…˜ ê¶Œì¥:**

ğŸ¯ **Scenario B (3ê°œ ì´ë²¤íŠ¸) ì±„íƒ ê¶Œì¥**

**ì´ìœ :**
- ì„±ëŠ¥ ë™ì¼ (ì°¨ì´ ë¬´ì‹œ ê°€ëŠ¥)
- IMU ì„¼ì„œë§Œ ì‚¬ìš©
- ë°°í„°ë¦¬ ì ˆì•½
- ê°œë°œ ê¸°ê°„ ë‹¨ì¶•
- ìœ ì§€ë³´ìˆ˜ ìš©ì´

**ì ìš© ë°©ì•ˆ:**

1. **MVP (ìµœì†Œ ê¸°ëŠ¥ ì œí’ˆ)**: Scenario Bë¡œ ì‹œì‘
2. **ì‚¬ìš©ì í”¼ë“œë°±** ìˆ˜ì§‘
3. **í•„ìš” ì‹œ Scenario Aë¡œ í™•ì¥** (GPS ì¶”ê°€)

### 5.3 Behavior-based Approach ì‹¤í˜„

**README.md í•µì‹¬ ì›ì¹™:**
> "ê¸‰ê°€ì†Â·ê¸‰ì œë™Â·ì•¼ê°„ ì£¼í–‰ ë“± **í–‰ë™ ë°ì´í„°ë¥¼ ì§ì ‘ ê³„ëŸ‰í™”**í•´ **ì¦‰ê°ì ì¸ í”¼ë“œë°±**ì„ ì œê³µ"

**Phase 4F â†’ Phase A ê°œì„ ìœ¼ë¡œ ì‹¤í˜„:**

| ì›ì¹™ | Phase 4F ê¸°ì¡´ | Phase A ê°œì„  | ìƒíƒœ |
|------|---------------|-------------|------|
| í–‰ë™ ë°ì´í„° ê³„ëŸ‰í™” | 5ê°œ íŠ¹ì§• | **11ê°œ íŠ¹ì§•** | âœ… ê°•í™” |
| ì¦‰ê°ì  í”¼ë“œë°± | Recall 0.5% | **Recall 100%** | âœ… ê°€ëŠ¥ |
| Calibrate by Truth | 4:1 ë¹„ìœ¨ | 4:1 ë¹„ìœ¨ + 2.13ë°° ë³€ë³„ë ¥ | âœ… ê°œì„  |
| Feedback by Behavior | 86% SAFE | 53% SAFE | âœ… ì°¨ë³„í™” |

**í•µì‹¬ ê°œì„ ì‚¬í•­:**

1. **Class Weight 2.5ë°° ì¦ê°€** (ê°€ì¥ í° ì˜í–¥)
   - ì–‘ì„± í´ë˜ìŠ¤ ê°€ì¤‘ì¹˜: 4.01 â†’ 10.03
   - ëª¨ë¸ì´ ì–‘ì„± ìƒ˜í”Œ(ì‚¬ê³  ë°œìƒ)ì— 2.5ë°° ë” ì§‘ì¤‘
   - False Negative ëŒ€í­ ê°ì†Œ (751 â†’ 0)
   - **Recall 100% ë‹¬ì„±**ì˜ í•µì‹¬ ìš”ì¸

2. **Threshold í•˜í–¥** (0.76 â†’ 0.05)
   - ë‚®ì€ ì„ê³„ê°’ìœ¼ë¡œ **ë¯¼ê°ë„ ê·¹ëŒ€í™”**
   - False Positive ì¦ê°€ but í–‰ë™ ë³€í™” ê¸°íšŒ ìµœëŒ€í™”
   - **ëª¨ë“  ì ì¬ì  ìœ„í—˜ í¬ì°©** ìš°ì„ 

3. **íŠ¹ì§• ì—”ì§€ë‹ˆì–´ë§** (11ê°œë¡œ í™•ì¥)
   - ì´ë²¤íŠ¸ ì´í•©, ìœ„í—˜ ë¹„ìœ¨ ë“± ë³µí•© íŒ¨í„´ í¬ì°©
   - ì•¼ê°„ ìœ„í—˜ë„, ê¸´ê¸‰ ìƒí™© ë“± ë§¥ë½ ì •ë³´ ì¶”ê°€
   - AUC 0.618 ë‹¬ì„±ì— ê¸°ì—¬

### 5.4 Linear Scoring ìƒí’ˆí™” í™œìš©

**ì¥ì :**
1. **íˆ¬ëª…ì„±**: ê° ì´ë²¤íŠ¸ì˜ ê°ì ì´ ëª…í™•
2. **ì¦‰ê°ì  í”¼ë“œë°±**: ìš´ì „ ì§í›„ ì ìˆ˜ ì œê³µ
3. **í–‰ë™ ìœ ë„**: "ê¸‰ê°€ì† 1íšŒë‹¹ -4.07ì " êµ¬ì²´ì  ì•ˆë‚´
4. **Day/Night êµ¬ë¶„**: ì•¼ê°„ ìš´ì „ ì£¼ì˜ ìœ ë„

**êµ¬í˜„ ì˜ˆì‹œ (ëª¨ë°”ì¼ ì•±):**
```
ìš´ì „ ì ìˆ˜: 70.6ì  (MODERATE)

ê°ì  ë‚´ì—­:
  - ê¸‰ê°€ì† 2.79íšŒ: -11.36ì 
  - ê¸‰ì •ê±° 2.26íšŒ: -3.66ì 
  - ê¸‰íšŒì „ 1.90íšŒ: -7.45ì 
  - ê³¼ì† 1.38íšŒ: -6.90ì 

ê°œì„  ì œì•ˆ:
  1. ê¸‰ê°€ì† ì¤„ì´ê¸° (1íšŒë‹¹ -4.07ì )
  2. ê³¼ì† ì£¼ì˜ (1íšŒë‹¹ -5.00ì )
  3. ì•¼ê°„ ìš´ì „ ì‹œ íŠ¹íˆ ì¡°ì‹¬ (1.5ë°° ê°ì )
```

## ë¶€ë¡

### A. ê°€ì¤‘ì¹˜ ìƒì„¸ ë¹„êµ

#### Scenario A ë¡œì§€ìŠ¤í‹± íšŒê·€ ê°€ì¤‘ì¹˜

| íŠ¹ì§• | ê°€ì¤‘ì¹˜ | ì˜í–¥ |
|------|--------|------|
| ê¸‰ê°€ì† | +0.0333 | ìœ„í—˜ ì¦ê°€ |
| ê¸‰ì •ê±° | +0.0132 | ìœ„í—˜ ì¦ê°€ |
| ê¸‰íšŒì „ | +0.0321 | ìœ„í—˜ ì¦ê°€ |
| ê³¼ì† | +0.0409 | ìœ„í—˜ ì¦ê°€ |
| ì•¼ê°„ | +0.2067 | ìœ„í—˜ ì¦ê°€ |
| ì´ë²¤íŠ¸ì´í•© | +0.1195 | ìœ„í—˜ ì¦ê°€ |
| ìœ„í—˜ë¹„ìœ¨ | +0.1112 | ìœ„í—˜ ì¦ê°€ |
| ì•¼ê°„ìœ„í—˜ | -0.0587 | ìœ„í—˜ ê°ì†Œ |
| ê¸´ê¸‰ìƒí™© | -0.0312 | ìœ„í—˜ ê°ì†Œ |
| ê³¼ì†íšŒì „ | -0.0471 | ìœ„í—˜ ê°ì†Œ |
| ì´ë²¤íŠ¸ë°€ë„ | -0.0051 | ìœ„í—˜ ê°ì†Œ |

#### Scenario B ë¡œì§€ìŠ¤í‹± íšŒê·€ ê°€ì¤‘ì¹˜

| íŠ¹ì§• | ê°€ì¤‘ì¹˜ | ì˜í–¥ |
|------|--------|------|
| ê¸‰ê°€ì† | +0.0617 | ìœ„í—˜ ì¦ê°€ |
| ê¸‰ì •ê±° | +0.0378 | ìœ„í—˜ ì¦ê°€ |
| ê¸‰íšŒì „ | +0.0029 | ìœ„í—˜ ì¦ê°€ |
| ì•¼ê°„ | +0.2314 | ìœ„í—˜ ì¦ê°€ |
| ì´ë²¤íŠ¸ì´í•© | +0.1024 | ìœ„í—˜ ì¦ê°€ |
| ìœ„í—˜ë¹„ìœ¨ | +0.1412 | ìœ„í—˜ ì¦ê°€ |
| ì•¼ê°„ìœ„í—˜ | -0.0621 | ìœ„í—˜ ê°ì†Œ |
| ê¸´ê¸‰ìƒí™© | -0.0320 | ìœ„í—˜ ê°ì†Œ |
| ì´ë²¤íŠ¸ë°€ë„ | -0.0042 | ìœ„í—˜ ê°ì†Œ |

### B. êµ¬í˜„ ì˜ˆì‹œ ì½”ë“œ

#### Scenario B Linear Scoring (ê¶Œì¥)

```python
def calculate_driving_score(events, is_night=False):
    """
    Scenario B: 3ê°œ ì´ë²¤íŠ¸ ì ìˆ˜ ê³„ì‚°
    
    Args:
        events: dict with keys 'rapid_accel', 'sudden_stop', 'sharp_turn'
        is_night: bool, ì•¼ê°„ ì—¬ë¶€
    
    Returns:
        score: int, 0-100ì 
    """
    # Day ê°ì  ê°€ì¤‘ì¹˜
    # ê¸‰ê°€ì†: 5.00ì 
    # ê¸‰ì •ê±°: 3.06ì 
    # ê¸‰íšŒì „: 0.24ì 
    
    day_penalties = {
        'rapid_accel': 5.00,
        'sudden_stop': 3.06,
        'sharp_turn': 0.24,
    }
    
    # NightëŠ” 1.5ë°°
    multiplier = 1.5 if is_night else 1.0
    
    # ì´ ê°ì  ê³„ì‚°
    deduction = sum(
        events[event] * penalty * multiplier
        for event, penalty in day_penalties.items()
    )
    
    # ìµœì¢… ì ìˆ˜
    score = max(0, min(100, 100 - deduction))
    
    return int(score)


# ì‚¬ìš© ì˜ˆì‹œ
events = {
    'rapid_accel': 2,
    'sudden_stop': 1,
    'sharp_turn': 3
}

day_score = calculate_driving_score(events, is_night=False)
night_score = calculate_driving_score(events, is_night=True)

print(f'Day ì ìˆ˜: {day_score}ì ')
print(f'Night ì ìˆ˜: {night_score}ì ')
```

### C. Linear Scoring ê³„ì‚° ê³µì‹

#### Day ì ìˆ˜ ê³„ì‚° (Scenario A)
```python
deduction = (
    ê¸‰ê°€ì†_íšŸìˆ˜ * 4.07 +
    ê¸‰ì •ê±°_íšŸìˆ˜ * 1.62 +
    ê¸‰íšŒì „_íšŸìˆ˜ * 3.92 +
    ê³¼ì†_íšŸìˆ˜ * 5.00
)
score = max(0, 100 - deduction)
```

#### Night ì ìˆ˜ ê³„ì‚° (Scenario A)
```python
deduction = (
    ê¸‰ê°€ì†_íšŸìˆ˜ * 6.10 +  # 1.5ë°°
    ê¸‰ì •ê±°_íšŸìˆ˜ * 2.42 +  # 1.5ë°°
    ê¸‰íšŒì „_íšŸìˆ˜ * 5.89 +  # 1.5ë°°
    ê³¼ì†_íšŸìˆ˜ * 7.50      # 1.5ë°°
)
score = max(0, 100 - deduction)
```

#### ë“±ê¸‰ ë¶€ì—¬
```python
if score >= 80:
    grade = 'SAFE'
elif score >= 60:
    grade = 'MODERATE'
else:
    grade = 'AGGRESSIVE'
```

### D. Phase 4F ê¸°ì¡´ vs Phase A ê°œì„  ë¹„êµ

| ì§€í‘œ | Phase 4F ê¸°ì¡´ | Phase A ê°œì„  | ê°œì„ í­ | ê°œì„  ë¹„ìœ¨ |
|------|---------------|-------------|--------|----------|
| Threshold | 0.76 | 0.05 | +0.71 | - |
| Precision | 50.0% | 12.6% | -37.4%p | 0.3ë°° |
| **Recall** | 0.5% | **100.0%** | **+99.5%p** | **200ë°°** âœ… |
| **F1-Score** | 1.0% | **22.4%** | **+21.4%p** | **22ë°°** âœ… |
| AUC | N/A | 61.8% | - | - |

**í•µì‹¬ ê°œì„ :**

1. **Recall 200ë°° í–¥ìƒ** (0.5% â†’ 100.0%)
   - Phase 4F ê¸°ì¡´: 755ëª… ì¤‘ 4ëª…ë§Œ íƒì§€ (0.5%)
   - Phase A ê°œì„ : 755ëª… ëª¨ë‘ íƒì§€ (100.0%) âœ…
   - **í–‰ë™ ë³€í™” ìœ ë„ ê°€ëŠ¥** í•´ì§

2. **F1-Score 22ë°° í–¥ìƒ** (1.0% â†’ 22.4%)
   - Precision/Recall ê· í˜• í™•ë³´
   - ì‹¤ìš©ì ì¸ ìˆ˜ì¤€ ë‹¬ì„±

3. **AUC 0.618 ë‹¬ì„±**
   - Randomë³´ë‹¤ 23.6%p í–¥ìƒ
   - ëª¨ë¸ì˜ ë³€ë³„ë ¥ ì…ì¦

### E. í–¥í›„ ê°œì„  ë°©í–¥

**Phase B: ì•™ìƒë¸” ëª¨ë¸ (1-3ê°œì›”)**
1. XGBoost ì ìš© (ì˜ˆìƒ AUC +0.10)
2. RandomForest ì¶”ê°€ (ë¹„ì„ í˜• íŒ¨í„´)
3. Voting Ensemble (ì•ˆì •ì„±)
4. ì˜ˆìƒ ê²°ê³¼: F1 22% â†’ 60%+, AUC 0.75+

**Phase C: ì™¸ë¶€ ë°ì´í„° í†µí•© (3-6ê°œì›”)**
1. ë‚ ì”¨ API (ë¹„/ëˆˆ/ì•ˆê°œ)
2. êµí†µ ì •ë³´ (ì •ì²´/ì‹œê°„ëŒ€)
3. ë„ë¡œ ìœ í˜• (ê³ ì†ë„ë¡œ/ì‹œë‚´)
4. GPS ê²½ë¡œ ë¶„ì„

### F. ì¬í˜„ ë°©ë²•

```bash
cd research

# Phase A ìµœì¢… ì‹¤í–‰ (Scenario A vs B ë¹„êµ)
python phase4f_phase_a_final.py

# ë¦¬í¬íŠ¸ ìƒì„±
python phase4f_phase_a_final_report.py

# (ì°¸ê³ ) ì´ì „ Phase A improvement ì‹¤í–‰
python phase4f_phase_a_improvement.py
python phase4f_phase_a_report.py
```

### G. ì‹¤ì œ ë°ì´í„° ìƒ˜í”Œ

Phase 4Fì—ì„œ ì‚¬ìš©ëœ ì‹¤ì œ ë°ì´í„° ìƒ˜í”Œì„ ì¶”ì¶œí•˜ì—¬ ë¶„ì„í–ˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [Phase4F_Data_Sample_Report.md](Phase4F_Data_Sample_Report.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

**ìƒ˜í”Œ êµ¬ì„±:**
- ì‚¬ê³  ë°œìƒ ê·¸ë£¹ (Risk): 4ê°œ ìƒ˜í”Œ
- ì‚¬ê³  ë¯¸ë°œìƒ ê·¸ë£¹ (Safe): 4ê°œ ìƒ˜í”Œ
- ì ìˆ˜ ë¶„í¬ë¥¼ ê³ ë ¤í•œ ë‹¤ì–‘í•œ ìš´ì „ íŒ¨í„´ í¬í•¨

**ì£¼ìš” ë°œê²¬:**
- Safe Groupì´ Risk Groupë³´ë‹¤ í‰ê·  **7.2ì ** ë†’ìŒ
- ë“±ê¸‰ ë¶„í¬: RiskëŠ” AGGRESSIVE/MODERATE ì¤‘ì‹¬, SafeëŠ” SAFE ì¤‘ì‹¬
- ì‹¤ì œ ì‚¬ê³  ì—¬ë¶€ì™€ ì ìˆ˜/ë“±ê¸‰ì˜ ìƒê´€ê´€ê³„ í™•ì¸

**ëŒ€í‘œ ìƒ˜í”Œ ì˜ˆì‹œ:**

#### Risk Group - ìµœì•…ì˜ ê²½ìš° (ID S00508)
- **ì‚¬ê³ **: ë°œìƒ âœ…
- **ì´ë²¤íŠ¸**: ê¸‰ê°€ì† 6íšŒ, ê¸‰ì •ê±° 3íšŒ, ê¸‰íšŒì „ 2íšŒ, ê³¼ì† 6íšŒ, ì•¼ê°„
- **ì ìˆ˜**: 0ì  (AGGRESSIVE)
- **íŠ¹ì§•**: ì´ 17ê°œ ì´ë²¤íŠ¸, ê³¼ì† ì¤‘ ê¸‰íšŒì „ 12íšŒ (ë§¤ìš° ìœ„í—˜)

#### Safe Group - ì–‘í˜¸í•œ ê²½ìš° (ID S09758)
- **ì‚¬ê³ **: ì—†ìŒ â­•
- **ì´ë²¤íŠ¸**: ê¸‰ì •ê±° 3íšŒë§Œ, ì•¼ê°„
- **ì ìˆ˜**: 92ì  (SAFE)
- **íŠ¹ì§•**: ì´ 3ê°œ ì´ë²¤íŠ¸ë§Œ, ì•ˆì „ ìš´ì „

ìƒì„¸ ìƒ˜í”Œ ë¶„ì„ì€ ë³„ë„ ë¦¬í¬íŠ¸ ì°¸ì¡°: [Phase4F_Data_Sample_Report.md](Phase4F_Data_Sample_Report.md)

### H. ìƒì„±ëœ íŒŒì¼

```
research/
  â”œâ”€â”€ phase4f_phase_a_improvement.py          # Phase A ê°œì„  (Recall ì¤‘ì‹¬, 11 features)
  â”œâ”€â”€ phase4f_phase_a_results.json            # Phase A ê°œì„  ê²°ê³¼
  â”œâ”€â”€ phase4f_phase_a_report.py               # Phase A ê°œì„  ë¦¬í¬íŠ¸ ìƒì„±
  â”œâ”€â”€ phase4f_phase_a_final.py                # Phase A ìµœì¢… (Scenario A vs B ë¹„êµ)
  â”œâ”€â”€ phase4f_phase_a_final_results.json      # Scenario A vs B ë¹„êµ ê²°ê³¼
  â”œâ”€â”€ phase4f_phase_a_final_report.py         # ìµœì¢… ë¹„êµ ë¦¬í¬íŠ¸ ìƒì„±
  â”œâ”€â”€ phase4f_extract_data_samples.py         # ì‹¤ì œ ë°ì´í„° ìƒ˜í”Œ ì¶”ì¶œ
  â””â”€â”€ phase4f_data_samples.json               # ì¶”ì¶œëœ ìƒ˜í”Œ (JSON)

docs/
  â”œâ”€â”€ Phase4F_Final_Results_Update.md         # ì´ ë¬¸ì„œ (í†µí•© ìµœì¢… ë¦¬í¬íŠ¸)
  â””â”€â”€ Phase4F_Data_Sample_Report.md           # ì‹¤ì œ ë°ì´í„° ìƒ˜í”Œ ë¶„ì„ ë¦¬í¬íŠ¸
```

---

*ë³¸ ë¦¬í¬íŠ¸ëŠ” Phase 4F Phase Aì˜ ëª¨ë“  ì‹¤í—˜ ê²°ê³¼ë¥¼ í†µí•©í•œ ìµœì¢… ë¬¸ì„œì…ë‹ˆë‹¤. (2025ë…„ 10ì›” 16ì¼)*
*Scenario A/B ë¹„êµ ë¶„ì„, ìƒí’ˆí™” ë°©ì•ˆ, ì‹¤ì œ ë°ì´í„° ìƒ˜í”Œ í¬í•¨.*